(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[4],{40:function(e,t,c){"use strict";var n=c(8),s=c(41),o=c.n(s),a=c(1);t.a=function(){return Object(a.jsxs)("div",{className:o.a.noquotes,children:[Object(a.jsx)("p",{children:"No quotes found!"}),Object(a.jsx)(n.b,{className:"btn",to:"/new-quote",children:"Add a Quote"})]})}},41:function(e,t,c){e.exports={noquotes:"NoQuotesFound_noquotes__2iz_D"}},49:function(e,t,c){e.exports={quote:"HighlightedQuote_quote__3v8Z-"}},50:function(e,t,c){e.exports={comments:"Comments_comments__pYhhU"}},51:function(e,t,c){e.exports={form:"NewCommentForm_form__3K4iI",loading:"NewCommentForm_loading__2Qz7S",control:"NewCommentForm_control__1xCAB",actions:"NewCommentForm_actions__shAt3"}},52:function(e,t,c){e.exports={item:"CommentItem_item__1EsXu"}},53:function(e,t,c){e.exports={comments:"CommentsList_comments__11Up3"}},57:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c(8),o=c(0),a=c(38),r=c(39),m=c(49),j=c.n(m),i=c(1),u=function(e){return Object(i.jsxs)("figure",{className:j.a.quote,children:[Object(i.jsx)("p",{children:e.text}),Object(i.jsx)("figcaption",{children:e.author})]})},d=c(40),l=c(42),b=c(50),x=c.n(b),O=c(51),h=c.n(O),f=c(14),p=function(e){var t=Object(o.useRef)(),c=e.onAddedComment,n=Object(a.a)(r.a),s=n.sendRequest,m=n.status,j=n.error;Object(o.useEffect)((function(){"completed"!==m||j||c()}),[m,j,c]);var u=function(c){c.preventDefault();var n=t.current.value;s({commentData:{text:n},quoteId:e.quoteId})};return Object(i.jsxs)("form",{className:h.a.form,onSubmit:u,children:["loading"===m&&Object(i.jsx)("div",{className:"centered",children:Object(i.jsx)(f.a,{})}),Object(i.jsxs)("div",{className:h.a.control,onSubmit:u,children:[Object(i.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),Object(i.jsx)("textarea",{id:"comment",rows:"5",ref:t})]}),Object(i.jsx)("div",{className:h.a.actions,children:Object(i.jsx)("button",{className:"btn",children:"Add Comment"})})]})},_=c(52),N=c.n(_),v=function(e){return Object(i.jsx)("li",{className:N.a.item,children:Object(i.jsx)("p",{children:e.text})})},q=c(53),C=c.n(q),g=function(e){return Object(i.jsx)("ul",{className:C.a.comments,children:e.comments.map((function(e){return Object(i.jsx)(v,{text:e.text},e.id)}))})},w=function(){var e=Object(o.useState)(!1),t=Object(l.a)(e,2),c=t[0],s=t[1],m=Object(n.j)().quoteId,j=Object(a.a)(r.c),u=j.sendRequest,d=j.status,b=j.data;Object(o.useEffect)((function(){u(m)}),[u,m]);var O,h=Object(o.useCallback)((function(){u(m)}),[u,m]);return"pending"===d&&(O=Object(i.jsx)("div",{className:"centered",children:Object(i.jsx)(f.a,{})})),"completed"===d&&b&&b.length>0&&(O=Object(i.jsx)(g,{comments:b})),"completed"!==d||0!==b.length&&b||(O=Object(i.jsx)("p",{children:"No comment yet."})),Object(i.jsxs)("section",{className:x.a.comments,children:[Object(i.jsx)("h2",{children:"User Comments"}),!c&&Object(i.jsx)("button",{className:"btn",onClick:function(){s(!0)},children:"Add a Comment"}),c&&Object(i.jsx)(p,{quoteId:m,onAddedComment:h}),O]})};t.default=function(){var e=Object(n.j)(),t=Object(n.k)(),c=e.quoteId,m=Object(a.a)(r.e,!0),j=m.sendRequest,l=m.data,b=m.status,x=m.error;return Object(o.useEffect)((function(){j(c)}),[j,c]),"pending"===b?Object(i.jsx)("div",{className:"centered",children:Object(i.jsx)(f.a,{})}):"error"===b?Object(i.jsx)("p",{children:x}):l.text?Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(u,{text:l.text,author:l.author}),Object(i.jsx)(n.c,{path:"".concat(t.path,"/"),exact:!0,children:Object(i.jsx)("div",{className:"centered",children:Object(i.jsx)(s.b,{className:"btn--flat",to:"".concat(t.url,"/comments"),children:"Load comments"})})}),Object(i.jsx)(n.c,{path:"".concat(t.path,"/comments"),children:Object(i.jsx)(w,{})})]}):Object(i.jsx)(d.a,{})}}}]);
//# sourceMappingURL=4.3d01ea40.chunk.js.map